use serde::{Deserialize, Serialize};
use ztd::{Constructor, Method};

////////////////////////////////////////////////////////////////////////////////////////////////////

pub type ZoneTransmissionMagicNumberLength = u64;

////////////////////////////////////////////////////////////////////////////////////////////////////

pub const ZONE_TRANSMISSION_MAGIC_NUMBER: ZoneTransmissionMagicNumberLength = 0xFFF8E9750A50AD48;

////////////////////////////////////////////////////////////////////////////////////////////////////

pub type ZoneTransmissionHeaderLength = u64;

////////////////////////////////////////////////////////////////////////////////////////////////////

#[derive(Debug, Deserialize, Serialize)]
pub enum ZoneTransmissionHeader {
    Version1(ZoneTransmissionVersion1Header),
}

////////////////////////////////////////////////////////////////////////////////////////////////////

#[derive(Debug, Deserialize, Serialize)]
pub enum ZoneTransmissionVersion1Type {
    Zfs,
}

////////////////////////////////////////////////////////////////////////////////////////////////////

#[derive(Constructor, Debug, Deserialize, Method, Serialize)]
#[Method(all)]
pub struct ZoneTransmissionVersion1Header {
    configuration: Vec<u8>,
    r#type: ZoneTransmissionVersion1Type,
}
